#!/bin/bash

# day_04.sh

#-----------------------------------Test input--------------------------------#
test -z "$1" && echo "Erro!"  && exit 1 
#-----------------------------------Variable----------------------------------#
sum_fully_contains=0
sum_intersections=0
#-----------------------------------Functions---------------------------------#
#------------------------------------Codes------------------------------------#
while read line
do
#---------------------------------First Star----------------------------------#
    line_array=($(echo "$line" | tr "," " " | tr "-" " "))
    a="${line_array[0]}"
    b="${line_array[1]}"
    c="${line_array[2]}"
    d="${line_array[3]}"
    
    if [[ "$a" -eq "$c" ]] || 
        [[ "$b" -eq "$d" ]] || 
        [[ "$a" -gt "$c"  && "$b" -lt "$d" ]] || 
        [[ "$a" -lt "$c" && "$b" -gt "$d" ]]
    then 
        let sum_fully_contains+=1
    fi
#---------------------------------Second Star---------------------------------#
    if [[ "$a" -eq "$c" ]] || 
        [[ "$a" -eq "$d" ]] || 
        [[ "$b" -eq "$c" ]] || 
        [[ "$b" -eq "$d" ]] ||  
        [[ "$a" -lt "$c"  && "$b" -gt "$c" ]] || 
        [[ "$a" -gt "$c" && "$a" -lt "$d" ]]
    then
        let sum_intersections+=1
    fi

#-------------------------------------END-------------------------------------#
done < "$1"
#-----------------------------------Results-----------------------------------#
echo "First star  -> $sum_fully_contains"
echo "Second star -> $sum_intersections"
#--------------------------------------|--------------------------------------#
